!function(){"use strict";function e(t,n,r){n.ns="http://www.w3.org/2000/svg";for(var o=0;o<r.length;o++){var i=r[o];i.data&&e(i.tag,i.data,i.tree)}}function t(e){return function(t,n,r){for(var o in n)o in a&&(n[a[o]]=n[o],delete n[o]);return e(t,n,r)}}function n(e){return e===m||e===y}function r(e){return A.test(e)}var o=function(t,n){var r=[];r.push.apply(r,arguments),r.shift(),r.shift();var o=r[0];return r=Array.isArray(o)||void 0===o?o:r,"svg"===t&&e(t,n,r),{tag:t,data:n||{},tree:[].concat.apply([],r)}},i=t,a={class:"className",for:"htmlFor","http-equiv":"httpEquiv"},s=i,u=0,f=1,l=2,c=3,h=4,p=5,d=6,v=7,g=8,m=9,y=10,b=11,k=12,w=function(e,t){function o(e){return"function"==typeof e?e:"string"==typeof e?e:e&&"object"==typeof e?e:i("",e)}e=s(e),t||(t={});var i=t.concat||function(e,t){return String(e)+String(t)};return function(t){function a(e){var t=[];s===v&&(s=h);for(var r=0;r<e.length;r++){var o=e.charAt(r);s===f&&"<"===o?(w.length&&t.push([f,w]),w="",s=l):">"!==o||n(s)?s===f?w+=o:s===l&&/\s/.test(o)?(t.push([l,w]),w="",s=h):s===l?w+=o:s===h&&/[\w-]/.test(o)?(s=p,w=o):s===h&&/\s/.test(o)?(w.length&&t.push([p,w]),t.push([k])):s===p&&/\s/.test(o)?(t.push([p,w]),w="",s=d):s===p&&"="===o?(t.push([p,w],[b]),w="",s=v):s===p?w+=o:s!==d&&s!==h||"="!==o?s!==d&&s!==h||/\s/.test(o)?s===v&&'"'===o?s=y:s===v&&"'"===o?s=m:s===y&&'"'===o?(t.push([g,w],[k]),w="",s=h):s===m&&"'"===o?(t.push([g,w],[k]),w="",s=h):s!==v||/\s/.test(o)?s===g&&/\s/.test(o)?(t.push([g,w],[k]),w="",s=h):s!==g&&s!==m&&s!==y||(w+=o):(s=g,r--):(t.push([k]),/[\w-]/.test(o)?(w+=o,s=p):s=h):(t.push([b]),s=v):(s===l?t.push([l,w]):s===p?t.push([p,w]):s===g&&w.length&&t.push([g,w]),t.push([c]),w="",s=f)}return s===f&&w.length?(t.push([f,w]),w=""):s===g&&w.length?(t.push([g,w]),w=""):s===y&&w.length?(t.push([g,w]),w=""):s===m&&w.length?(t.push([g,w]),w=""):s===p&&(t.push([p,w]),w=""),t}for(var s=f,w="",A=arguments.length,E=[],L=0;L<t.length;L++)if(L<A-1){var N=arguments[L+1],C=a(t[L]),S=s;S===y&&(S=g),S===m&&(S=g),S===v&&(S=g),S===h&&(S=p),C.push([u,S,N]),E.push.apply(E,C)}else E.push.apply(E,a(t[L]));for(var F=[null,{},[]],j=[[F,-1]],L=0;L<E.length;L++){var x=j[j.length-1][0],C=E[L],M=C[0];if(M===l&&/^\//.test(C[1])){var O=j[j.length-1][1];j.length>1&&(j.pop(),j[j.length-1][0][2][O]=e(x[0],x[1],x[2].length?x[2]:void 0))}else if(M===l){var z=[C[1],{},[]];x[2].push(z),j.push([z,x[2].length-1])}else if(M===p||M===u&&C[1]===p){for(var D,T="";L<E.length;L++)if(E[L][0]===p)T=i(T,E[L][1]);else{if(E[L][0]!==u||E[L][1]!==p)break;if("object"!=typeof E[L][2]||T)T=i(T,E[L][2]);else for(D in E[L][2])E[L][2].hasOwnProperty(D)&&!x[1][D]&&(x[1][D]=E[L][2][D])}E[L][0]===b&&L++;for(var K=L;L<E.length;L++)if(E[L][0]===g||E[L][0]===p)x[1][T]?x[1][T]=i(x[1][T],E[L][1]):x[1][T]=o(E[L][1]);else{if(E[L][0]!==u||E[L][1]!==g&&E[L][1]!==p){!T.length||x[1][T]||L!==K||E[L][0]!==c&&E[L][0]!==k||(x[1][T]=T.toLowerCase());break}x[1][T]?x[1][T]=i(x[1][T],E[L][2]):x[1][T]=o(E[L][2])}}else if(M===p)x[1][C[1]]=!0;else if(M===u&&C[1]===p)x[1][C[2]]=!0;else if(M===c){if(r(x[0])&&j.length){var O=j[j.length-1][1];j.pop(),j[j.length-1][0][2][O]=e(x[0],x[1],x[2].length?x[2]:void 0)}}else if(M===u&&C[1]===f)void 0===C[2]||null===C[2]?C[2]="":C[2]||(C[2]=i("",C[2])),Array.isArray(C[2][0])?x[2].push.apply(x[2],C[2]):x[2].push(C[2]);else if(M===f)x[2].push(C[1]);else if(M!==b&&M!==k)throw new Error("unhandled: "+M)}if(F[2].length>1&&/^\s*$/.test(F[2][0])&&F[2].shift(),F[2].length>2||2===F[2].length&&/\S/.test(F[2][1]))throw new Error("multiple root elements must be wrapped in an enclosing tag");return Array.isArray(F[2][0])&&"string"==typeof F[2][0][0]&&Array.isArray(F[2][0][2])&&(F[2][0]=e(F[2][0][0],F[2][0][1],F[2][0][2])),F[2][0]}},A=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-ï¿¿_:-]+)*$"),E=function(e){function t(e,t,n){h(k,p=t(e,d),n,0)}function n(e,t){for(var n in e){var o,i=r(n),a={};if(t.replace(new RegExp(i.re,"g"),function(){for(var t=1;t<arguments.length-2;t++)a[i.keys.shift()]=arguments[t];o=function(t,r){return e[n](t,r,a)}}),o)return o}return e["/"]}function r(e){var t=[],n="^"+e.replace(/\//g,"\\/").replace(/:([A-Za-z0-9_]+)/g,function(e,n){return t.push(n),"([A-Za-z0-9_]+)"})+"/?$";return{re:n,keys:t}}function o(e){return"string"===e||"number"===e||"boolean"===e}function i(e,t){setTimeout(function(){e(t)},0)}function a(e,t){var n,r={};if(o(typeof t)||Array.isArray(t))return t;for(n in e)r[n]=e[n];for(n in t)r[n]=t[n];return r}function s(e,t){return e.tag!==t.tag||typeof e!=typeof t||o(typeof e)&&e!==t}function u(e){var t;if(o(typeof e))t=document.createTextNode(e);else{t=e.data&&e.data.ns?document.createElementNS(e.data.ns,e.tag):document.createElement(e.tag);for(var n in e.data)"oncreate"===n?i(e.data[n],t):l(t,n,e.data[n]);for(var r=0;r<e.tree.length;r++)t.appendChild(u(e.tree[r]))}return t}function f(e,t,n){e.removeAttribute("className"===t?"class":t),"boolean"!=typeof n&&"true"!==n&&"false"!==n||(e[t]=!1)}function l(e,t,n,r){if("style"===t)for(var o in n)e.style[o]=n[o];else if("on"===t.substr(0,2)){var i=t.substr(2);e.removeEventListener(i,r),e.addEventListener(i,n)}else"false"===n||n===!1?(e.removeAttribute(t),e[t]=!1):(e.setAttribute(t,n),e[t]=n)}function c(e,t,n){for(var r in a(n,t)){var o=t[r],s=n[r];void 0===o?f(e,r,s):o!==s&&("onupdate"===r?i(o,e):l(e,r,o,s))}}function h(e,t,n,r){if(void 0===n)e.appendChild(u(t));else if(void 0===t){for(;r>0&&!e.childNodes[r];)r--;if(r>=0){var o=e.childNodes[r];if(n&&n.data){var a=n.data.onremove;a&&i(a,o)}e.removeChild(o)}}else if(s(t,n))e.replaceChild(u(t),e.childNodes[r]);else if(t.tag){var o=e.childNodes[r];c(o,t.data,n.data);for(var f=t.tree.length,l=n.tree.length,p=0;p<f||p<l;p++)h(o,t.tree[p],n.tree[p],p)}}var p,d={},v=e.model,g=e.update||{},m=e.effects||{},y=function(t){t=e.subscriptions;for(var n in t)t[n](v,d,b.onError)},b=a({onAction:Function.prototype,onUpdate:Function.prototype,onError:function(e){throw e}},e.hooks),k=e.root||document.body.appendChild(document.createElement("div")),w=e.view||function(){return k},A="function"==typeof w?void 0:w;A&&(w=n(A,location.pathname),d.setLocation=function(e){t(v,w=n(A,e),p),history.pushState({},"",e)},window.addEventListener("popstate",function(){t(v,w=n(A,location.pathname),p)}),window.onclick=function(e){if(!(e.metaKey||e.shiftKey||e.ctrlKey||e.altKey)){for(var t=e.target;t&&"a"!==t.localName;)t=t.parentNode;if(t&&t.host===location.host&&!t.hasAttribute("data-no-routing")){var n=""===t.hash?n:document.querySelector(t.hash);n?n.scrollIntoView(!0):(d.setLocation(t.pathname),e.preventDefault())}}});for(var E in a(g,m))!function(e){d[e]=function(n){b.onAction(e,n);var r=m[e];if(r)return r(v,d,n,b.onError);var o=g[e],i=v;t(v=a(v,o(v,n)),w,p),b.onUpdate(i,v,n)}}(E);"loading"!==document.readyState?y():document.addEventListener("DOMContentLoaded",y),t(v,w)},L=o,N={html:w(L),app:E,h:L},C=N.app,S=N.html,F={add:function(e){var t=e.num,n=e.clicks;return{num:t+1,clicks:n+1}},sub:function(e){var t=e.num,n=e.clicks;return{num:t-1,clicks:n+1}}},j={num:0,clicks:0},x=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},M=x(["<div>You clicked "," time","</div>"],["<div>You clicked "," time","</div>"]),O=x(['\n  <div class="counter">\n    <h1>Welcome to HyperApp!</h1>\n    <hr class="line-break" />\n    <section>\n      <button\n        class="add"\n        onclick=',"\n      >\n        +\n      </button>\n      <h1>",'</h1>\n      <button\n        class="sub"\n        onclick=',"\n        disabled=","\n      >\n        -\n      </button>\n      ","\n    </section>\n  </div>\n"],['\n  <div class="counter">\n    <h1>Welcome to HyperApp!</h1>\n    <hr class="line-break" />\n    <section>\n      <button\n        class="add"\n        onclick=',"\n      >\n        +\n      </button>\n      <h1>",'</h1>\n      <button\n        class="sub"\n        onclick=',"\n        disabled=","\n      >\n        -\n      </button>\n      ","\n    </section>\n  </div>\n"]),z=function(e){return e>0?S(M,e,e>1?"s":""):""},D=function(e,t){return S(O,t.add,e.num,t.sub,e.num<=0,z(e.clicks))};C({model:j,update:F,view:D})}();